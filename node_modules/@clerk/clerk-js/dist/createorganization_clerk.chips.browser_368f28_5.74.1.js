"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["96"],{1816:function(e,t,a){a.d(t,{$:()=>w});var r=a(9109),i=a(3799),o=a(9144),n=a(6988),l=a(2672),s=a(431),d=a(9460),u=a(8487),c=a(2654),h=a(3412),g=a(7263),p=a(7259),m=a(8870),v=a(6788),z=a(8969),C=a(9888),Z=a(4174),b=a(7703),S=a(8493),f=a(5727),x=a(8181),$=a(7484);let w=(0,l.withCardStateProvider)(e=>{let t=(0,l.useCardState)(),a=(0,z.a2)({onNextStep:()=>t.setError(void 0)}),w=(0,o.useContext)(n.H),P=o.useRef(null),{createOrganization:R,isLoaded:k,setActive:T,userMemberships:_}=(0,i.eW)({userMemberships:$.AO.userMemberships}),{organization:A}=(0,i.o8)(),[O,B]=o.useState(),y=(0,v.Yp)("name","",{type:"text",label:(0,b.u1)("formFieldLabel__organizationName"),placeholder:(0,b.u1)("formFieldInputPlaceholder__organizationName")}),I=(0,v.Yp)("slug","",{type:"text",label:(0,b.u1)("formFieldLabel__organizationSlug"),placeholder:(0,b.u1)("formFieldInputPlaceholder__organizationSlug")}),F=!!y.value,M=async r=>{if((r.preventDefault(),F)&&k)try{let t={name:y.value};e.hideSlug||(t.slug=I.value);let r=await R(t);if(O&&await r.setLogo({file:O}),P.current=r,await T({organization:r}),_.revalidate?.(),w)return void await w.nextTask();if(e.skipInvitationScreen??1===r.maxAllowedMemberships)return L();a.nextStep()}catch(e){(0,m.S3)(e,[y,I],t.setError)}},L=()=>{e.navigateAfterCreateOrganization?.(P.current),e.onComplete?.()},V=e=>{I.setValue(e)},X="organizationList"===e.flow?"subtitle":void 0;return(0,r.BX)(z.en,{...a.props,children:[(0,r.tZ)(u.Y,{headerTitle:e?.startPage?.headerTitle,headerSubtitle:e?.startPage?.headerSubtitle,headerTitleTextVariant:"h2",headerSubtitleTextVariant:X,sx:e=>({minHeight:e.sizes.$60,gap:e.space.$6,textAlign:"left"}),children:(0,r.BX)(s.l.Root,{onSubmit:M,sx:e=>({gap:e.space.$6}),children:[(0,r.tZ)(C.Col,{children:(0,r.tZ)(x.D,{organization:{name:y.value},onAvatarChange:async e=>await B(e),onAvatarRemove:O?()=>(t.setIdle(),B(null)):null,avatarPreviewPlaceholder:(0,r.tZ)(h.h,{variant:"ghost","aria-label":"Upload organization logo",icon:(0,r.tZ)(C.Icon,{size:"md",icon:Z.gq,sx:e=>({color:e.colors.$colorMutedForeground,transitionDuration:e.transitionDuration.$controls})}),sx:e=>({width:e.sizes.$16,height:e.sizes.$16,borderRadius:e.radii.$md,borderWidth:e.borderWidths.$normal,borderStyle:e.borderStyles.$dashed,borderColor:e.colors.$borderAlpha200,backgroundColor:e.colors.$neutralAlpha50,":hover":{backgroundColor:e.colors.$neutralAlpha50,svg:{transform:"scale(1.2)"}}})})})}),(0,r.tZ)(s.l.ControlRow,{elementId:y.id,children:(0,r.tZ)(s.l.PlainInput,{...y.props,onChange:e=>{y.setValue(e.target.value),V((0,p.q)(e.target.value))},isRequired:!0,autoFocus:!0,ignorePasswordManager:!0})}),!e.hideSlug&&(0,r.tZ)(s.l.ControlRow,{elementId:I.id,children:(0,r.tZ)(s.l.PlainInput,{...I.props,onChange:e=>{V(e.target.value)},isRequired:!0,pattern:"^(?=.*[a-z0-9])[a-z0-9\\-]+$",ignorePasswordManager:!0})}),(0,r.BX)(d.K,{sx:e=>({marginTop:e.space.$none}),children:[(0,r.tZ)(s.l.SubmitButton,{block:!1,isDisabled:!F,localizationKey:(0,b.u1)("createOrganization.formButtonSubmit")}),e.onCancel&&(0,r.tZ)(s.l.ResetButton,{localizationKey:(0,b.u1)("userProfile.formButtonReset"),block:!1,onClick:e.onCancel})]})]})}),(0,r.tZ)(u.Y,{headerTitle:(0,b.u1)("organizationProfile.invitePage.title"),headerTitleTextVariant:"h2",headerSubtitleTextVariant:X,sx:e=>({minHeight:e.sizes.$60,textAlign:"left"}),children:A&&(0,r.tZ)(S.l,{resetButtonLabel:(0,b.u1)("createOrganization.invitePage.formButtonReset"),onSuccess:a.nextStep,onReset:L})}),(0,r.BX)(C.Col,{children:[(0,r.tZ)(c.h.Root,{children:(0,r.tZ)(c.h.Title,{localizationKey:(0,b.u1)("organizationProfile.invitePage.title"),sx:{textAlign:"left"}})}),(0,r.tZ)(g.I,{contents:(0,r.tZ)(f.a,{}),sx:e=>({minHeight:e.sizes.$60}),onFinish:L})]})]})})},1441:function(e,t,a){a.r(t),a.d(t,{CreateOrganization:()=>p,CreateOrganizationModal:()=>m});var r=a(9109),i=a(2672),o=a(1576),n=a(9888),l=a(4676),s=a(3799),d=a(2418),u=a(143),c=a(1816);let h=(0,i.withCardStateProvider)(()=>{let{closeCreateOrganization:e}=(0,s.cL)(),{mode:t,navigateAfterCreateOrganization:a,skipInvitationScreen:l,hideSlug:h}=(0,o.useCreateOrganizationContext)(),g=(0,i.useCardState)(),{showDevModeNotice:p}=(0,u.n)();return(0,r.BX)(d.Z.Root,{sx:e=>({width:e.sizes.$108}),children:[(0,r.BX)(d.Z.Content,{sx:e=>({padding:`${e.space.$4} ${e.space.$5} ${p?e.space.$12:e.space.$6}`}),children:[(0,r.tZ)(d.Z.Alert,{children:g.error}),(0,r.tZ)(c.$,{skipInvitationScreen:l,startPage:{headerTitle:(0,n.localizationKeys)("createOrganization.title")},navigateAfterCreateOrganization:a,flow:"default",onComplete:()=>{"modal"===t&&e()},hideSlug:h})]}),(0,r.tZ)(d.Z.Footer,{})]})}),g=(0,o.withCoreUserGuard)(()=>(0,r.tZ)(h,{})),p=(0,i.withCardStateProvider)(()=>(0,r.tZ)(n.Flow.Root,{flow:"createOrganization",children:(0,r.tZ)(n.Flow.Part,{children:(0,r.tZ)(l.Switch,{children:(0,r.tZ)(l.Route,{children:(0,r.tZ)(g,{})})})})})),m=e=>{let t={...e,routing:"virtual",componentName:"CreateOrganization",mode:"modal"};return(0,r.tZ)(l.Route,{path:"createOrganization",children:(0,r.tZ)(o.CreateOrganizationContext.Provider,{value:t,children:(0,r.tZ)("div",{children:(0,r.tZ)(p,{})})})})}}}]);