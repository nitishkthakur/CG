"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["270"],{49327:function(e,t,o){o.d(t,{fB:()=>p,gW:()=>m,uj:()=>B}),o(28419);var n=o(79109),r=o(42305),s=o(48774),i=o(97295),c=o(24676),l=o(31673),u=o(11576),d=o(89888),a=o(96519);let p=e=>{let{navigate:t}=(0,c.useRouter)(),{handleManageAccountClicked:o,handleSignOutSessionClicked:s,handleUserProfileActionClicked:i,session:a}=e,{menutItems:p}=(0,u.useUserButtonContext)(),B=e=>({borderTopWidth:e.borderWidths.$normal,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$borderAlpha100,padding:"".concat(e.space.$4," ").concat(e.space.$5)}),m=async n=>{var r;return(null==n?void 0:n.path)?(await t(n.path),null==e?void 0:e.completedCallback()):n.id===l.Zb.MANAGE_ACCOUNT?await o():(null==n?void 0:n.open)?i(n.open):(null==(r=n.onClick)||r.call(n),null==e?void 0:e.completedCallback())};return(0,n.tZ)(r.eX,{role:"menu",elementDescriptor:d.descriptors.userButtonPopoverActions,elementId:d.descriptors.userButtonPopoverActions.setId("singleSession"),sx:e=>({borderTopWidth:e.borderWidths.$normal,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$borderAlpha100}),children:null==p?void 0:p.map(e=>{let t;return t=Object.values(l.Zb).includes(e.id)?{elementDescriptor:d.descriptors.userButtonPopoverActionButton,elementId:d.descriptors.userButtonPopoverActionButton.setId(e.id),iconBoxElementDescriptor:d.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:d.descriptors.userButtonPopoverActionButtonIconBox.setId(e.id),iconElementDescriptor:d.descriptors.userButtonPopoverActionButtonIcon,iconElementId:d.descriptors.userButtonPopoverActionButtonIcon.setId(e.id)}:{elementDescriptor:d.descriptors.userButtonPopoverCustomItemButton,elementId:d.descriptors.userButtonPopoverCustomItemButton.setId(e.id),iconBoxElementDescriptor:d.descriptors.userButtonPopoverCustomItemButtonIconBox,iconBoxElementId:d.descriptors.userButtonPopoverCustomItemButtonIconBox.setId(e.id),iconElementDescriptor:d.descriptors.userButtonPopoverActionItemButtonIcon,iconElementId:d.descriptors.userButtonPopoverActionItemButtonIcon.setId(e.id)},(0,n.tZ)(r.aU,{...t,icon:e.icon,label:e.name,onClick:e.id===l.Zb.SIGN_OUT?s(a):()=>m(e),sx:B,iconSx:e=>({width:e.sizes.$4,height:e.sizes.$4})},e.id)})})},B=e=>{let{navigate:t}=(0,c.useRouter)(),{handleManageAccountClicked:o,handleSignOutSessionClicked:p,handleSessionClicked:B,handleAddAccountClicked:m,handleUserProfileActionClicked:I,session:v,otherSessions:A}=e,{menutItems:h}=(0,u.useUserButtonContext)(),C=async n=>{var r;return(null==n?void 0:n.path)?(await t(n.path),null==e?void 0:e.completedCallback()):n.id===l.Zb.MANAGE_ACCOUNT?await o():(null==n?void 0:n.open)?I(n.open):(null==(r=n.onClick)||r.call(n),null==e?void 0:e.completedCallback())},g=h.every(e=>Object.values(l.Zb).includes(e.id));return(0,n.BX)(n.HY,{children:[g?(0,n.tZ)(r.r5,{role:"menu",elementDescriptor:d.descriptors.userButtonPopoverActions,elementId:d.descriptors.userButtonPopoverActions.setId("multiSession"),children:(0,n.BX)(d.Flex,{justify:"between",sx:e=>({marginLeft:e.space.$12,padding:"0 ".concat(e.space.$5," ").concat(e.space.$4),gap:e.space.$2}),children:[(0,n.tZ)(r.U8,{elementDescriptor:d.descriptors.userButtonPopoverActionButton,elementId:d.descriptors.userButtonPopoverActionButton.setId("manageAccount"),iconBoxElementDescriptor:d.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:d.descriptors.userButtonPopoverActionButtonIconBox.setId("manageAccount"),iconElementDescriptor:d.descriptors.userButtonPopoverActionButtonIcon,iconElementId:d.descriptors.userButtonPopoverActionButtonIcon.setId("manageAccount"),icon:a.tc,label:(0,d.localizationKeys)("userButton.action__manageAccount"),onClick:o}),(0,n.tZ)(r.U8,{elementDescriptor:d.descriptors.userButtonPopoverActionButton,elementId:d.descriptors.userButtonPopoverActionButton.setId("signOut"),iconBoxElementDescriptor:d.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:d.descriptors.userButtonPopoverActionButtonIconBox.setId("signOut"),iconElementDescriptor:d.descriptors.userButtonPopoverActionButtonIcon,iconElementId:d.descriptors.userButtonPopoverActionButtonIcon.setId("signOut"),icon:a.lv,label:(0,d.localizationKeys)("userButton.action__signOut"),onClick:p(v)})]})}):(0,n.tZ)(r.r5,{role:"menu",elementDescriptor:d.descriptors.userButtonPopoverActions,elementId:d.descriptors.userButtonPopoverActions.setId("multiSession"),sx:e=>({gap:e.space.$1,paddingBottom:e.space.$2}),children:null==h?void 0:h.map(e=>{let t;return t=Object.values(l.Zb).includes(e.id)?{elementDescriptor:d.descriptors.userButtonPopoverActionButton,elementId:d.descriptors.userButtonPopoverActionButton.setId(e.id),iconBoxElementDescriptor:d.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:d.descriptors.userButtonPopoverActionButtonIconBox.setId(e.id),iconElementDescriptor:d.descriptors.userButtonPopoverActionButtonIcon,iconElementId:d.descriptors.userButtonPopoverActionButtonIcon.setId(e.id)}:{elementDescriptor:d.descriptors.userButtonPopoverCustomItemButton,elementId:d.descriptors.userButtonPopoverCustomItemButton.setId(e.id),iconBoxElementDescriptor:d.descriptors.userButtonPopoverCustomItemButtonIconBox,iconBoxElementId:d.descriptors.userButtonPopoverCustomItemButtonIconBox.setId(e.id),iconElementDescriptor:d.descriptors.userButtonPopoverActionItemButtonIcon,iconElementId:d.descriptors.userButtonPopoverActionItemButtonIcon.setId(e.id)},(0,n.tZ)(r.aU,{...t,icon:e.icon,label:e.name,onClick:e.id===l.Zb.SIGN_OUT?p(v):()=>C(e),sx:e=>({border:0,padding:"".concat(e.space.$2," ").concat(e.space.$5),gap:e.space.$3x5}),iconSx:e=>({width:e.sizes.$4,height:e.sizes.$4}),iconBoxSx:e=>({minHeight:e.sizes.$4,minWidth:e.sizes.$4,alignItems:"center"})},e.id)})}),(0,n.BX)(r.eX,{role:"menu",sx:e=>({borderTopStyle:e.borderStyles.$solid,borderTopWidth:e.borderWidths.$normal,borderTopColor:e.colors.$borderAlpha100}),children:[A.map(e=>(0,n.tZ)(s.K,{icon:a.nR,onClick:B(e),role:"menuitem",children:(0,n.tZ)(i.E,{user:e.user})},e.id)),(0,n.tZ)(r.aU,{elementDescriptor:d.descriptors.userButtonPopoverActionButton,elementId:d.descriptors.userButtonPopoverActionButton.setId("addAccount"),iconBoxElementDescriptor:d.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:d.descriptors.userButtonPopoverActionButtonIconBox.setId("addAccount"),iconElementDescriptor:d.descriptors.userButtonPopoverActionButtonIcon,iconElementId:d.descriptors.userButtonPopoverActionButtonIcon.setId("addAccount"),icon:a.mm,label:(0,d.localizationKeys)("userButton.action__addAccount"),onClick:m,iconSx:e=>({width:e.sizes.$9,height:e.sizes.$6}),iconBoxSx:e=>({minHeight:e.sizes.$9,minWidth:e.sizes.$6,alignItems:"center"}),spinnerSize:"md"})]})]})},m=e=>{let{handleSignOutAllClicked:t,elementDescriptor:o,elementId:s,iconBoxElementDescriptor:i,iconBoxElementId:c,iconElementDescriptor:l,iconElementId:u,label:p,sx:B,actionSx:m}=e;return(0,n.tZ)(r.eX,{role:"menu",sx:[e=>({padding:e.space.$2}),B],children:(0,n.tZ)(r.aU,{elementDescriptor:o||d.descriptors.userButtonPopoverActionButton,elementId:s||d.descriptors.userButtonPopoverActionButton.setId("signOutAll"),iconBoxElementDescriptor:i||d.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:c||d.descriptors.userButtonPopoverActionButtonIconBox.setId("signOutAll"),iconElementDescriptor:l||d.descriptors.userButtonPopoverActionButtonIcon,iconElementId:u||d.descriptors.userButtonPopoverActionButtonIcon.setId("signOutAll"),icon:a.lv,label:p||(0,d.localizationKeys)("userButton.action__signOutAll"),onClick:t,variant:"ghost",colorScheme:"neutral",sx:[e=>({backgroundColor:e.colors.$transparent,padding:"".concat(e.space.$2," ").concat(e.space.$3),borderBottomWidth:0,borderRadius:e.radii.$lg}),m],spinnerSize:"md"})})}},37322:function(e,t,o){o.r(t),o.d(t,{UserButton:()=>b});var n=o(79109),r=o(69144),s=o(2672),i=o(84045),c=o(11576),l=o(89888),u=o(12464),d=o(83799),a=o(1151),p=o(53929),B=o(97295),m=o(49327),I=o(35241);let v=r.forwardRef((e,t)=>{let{close:o,...r}=e,s=()=>null==o?void 0:o(!1),{session:i}=(0,d.kP)(),u=(0,c.useUserButtonContext)(),{__experimental_asStandalone:v}=u,{authConfig:A}=(0,c.useEnvironment)(),{user:h}=(0,d.aF)(),{handleAddAccountClicked:C,handleManageAccountClicked:g,handleSessionClicked:P,handleSignOutAllClicked:x,handleSignOutSessionClicked:b,handleUserProfileActionClicked:k,otherSessions:f}=(0,I.Z)({...u,actionCompleteCallback:s,user:h});return(0,n.tZ)(p.r,{elementDescriptor:l.descriptors.userButtonPopoverRootBox,children:(0,n.BX)(a.f.Root,{elementDescriptor:l.descriptors.userButtonPopoverCard,ref:t,role:"dialog","aria-label":"User button popover",shouldEntryAnimate:!v,...r,children:[(0,n.BX)(a.f.Content,{elementDescriptor:l.descriptors.userButtonPopoverMain,children:[(0,n.tZ)(B.E,{elementId:"userButton",user:h,sx:e=>({width:"100%",padding:"".concat(e.space.$4," ").concat(e.space.$5)})}),A.singleSessionMode?(0,n.tZ)(m.fB,{handleManageAccountClicked:g,handleSignOutSessionClicked:b,handleUserProfileActionClicked:k,session:i,completedCallback:s}):(0,n.tZ)(m.uj,{session:i,otherSessions:f,handleManageAccountClicked:g,handleSignOutSessionClicked:b,handleSessionClicked:P,handleAddAccountClicked:C,handleUserProfileActionClicked:k,completedCallback:s})]}),(0,n.tZ)(a.f.Footer,{elementDescriptor:l.descriptors.userButtonPopoverFooter,children:!A.singleSessionMode&&f.length>0&&(0,n.tZ)(m.gW,{handleSignOutAllClicked:x})})]})})});var A=o(5472),h=o(77711),C=o(95878);let g=e=>{let{showName:t}=e,{user:o}=(0,d.aF)();return o&&t?(0,n.tZ)(l.Text,{variant:"subtitle",as:"span",elementDescriptor:l.descriptors.userButtonOuterIdentifier,sx:[e=>({paddingLeft:e.space.$2})],children:(0,C.Pp)(o)||(0,C.xC)(o)}):null},P=(0,h.C)((0,r.forwardRef)((e,t)=>{let{sx:o,...r}=e,{user:s}=(0,d.aF)(),{showName:i}=(0,c.useUserButtonContext)();return(0,n.tZ)(l.Button,{elementDescriptor:l.descriptors.userButtonTrigger,variant:"roundWrapper",sx:[e=>({borderRadius:i?e.radii.$md:e.radii.$circle,color:e.colors.$colorForeground}),o],ref:t,"aria-label":"".concat(e.isOpen?"Close":"Open"," user button"),"aria-expanded":e.isOpen,"aria-haspopup":"dialog",...r,children:(0,n.BX)(l.Flex,{elementDescriptor:l.descriptors.userButtonBox,isOpen:e.isOpen,align:"center",as:"span",gap:2,children:[(0,n.tZ)(g,{showName:i}),(0,n.tZ)(A.Y,{boxElementDescriptor:l.descriptors.userButtonAvatarBox,imageElementDescriptor:l.descriptors.userButtonAvatarImage,...s,size:e=>e.sizes.$7})]})})})),x=(0,s.withFloatingTree)(e=>{let{children:t}=e,{defaultOpen:o}=(0,c.useUserButtonContext)(),{floating:s,reference:l,styles:d,toggle:a,isOpen:p,nodeId:B,context:m}=(0,u.Sv)({defaultOpen:o,placement:"bottom-end",offset:8}),I=(0,r.useId)();return(0,n.BX)(n.HY,{children:[(0,n.tZ)(P,{ref:l,onClick:a,isOpen:p,"aria-controls":p?I:void 0,"aria-expanded":p}),(0,n.tZ)(i.J,{nodeId:B,context:m,isOpen:p,children:(0,r.cloneElement)(t,{id:I,close:a,ref:s,style:d})})]})}),b=(0,c.withCoreUserGuard)((0,s.withCardStateProvider)(()=>{let{__experimental_asStandalone:e}=(0,c.useUserButtonContext)();return(0,n.tZ)(l.Flow.Root,{flow:"userButton",sx:{display:"inline-flex"},children:e?(0,n.tZ)(v,{close:"function"==typeof e?e:void 0}):(0,n.tZ)(x,{children:(0,n.tZ)(v,{})})})}))},35241:function(e,t,o){o.d(t,{Z:()=>u}),o(38062),o(50725);var n=o(83799),r=o(2672),s=o(57046),i=o(55809),c=o(54264),l=o(24676);let u=e=>{let{setActive:t,signOut:o,openUserProfile:u,__internal_navigateToTaskIfAvailable:d}=(0,n.cL)(),a=(0,r.useCardState)(),{signedInSessions:p,otherSessions:B}=(0,c.j)({user:e.user}),{navigate:m}=(0,l.useRouter)();return{handleSignOutSessionClicked:t=>()=>0===B.length?o(e.navigateAfterSignOut):o(e.navigateAfterMultiSessionSingleSignOut,{sessionId:t.id}).finally(()=>a.setIdle()),handleManageAccountClicked:()=>{var t;return"navigation"===e.userProfileMode?m(e.userProfileUrl||"").finally(()=>{(async()=>{var t;await (0,s._)(300),null==(t=e.actionCompleteCallback)||t.call(e)})()}):(u(e.userProfileProps),null==(t=e.actionCompleteCallback)?void 0:t.call(e))},handleUserProfileActionClicked:t=>{var o;return"navigation"===e.userProfileMode?m(e.userProfileUrl||"").finally(()=>{(async()=>{var t;await (0,s._)(300),null==(t=e.actionCompleteCallback)||t.call(e)})()}):(u({...e.userProfileProps,...t&&{__experimental_startPath:t}}),null==(o=e.actionCompleteCallback)?void 0:o.call(e))},handleSignOutAllClicked:()=>o(e.navigateAfterSignOut),handleSessionClicked:o=>async()=>(a.setLoading(),t({session:o,redirectUrl:e.afterSwitchSessionUrl}).then(()=>d()).finally(()=>{var t;a.setIdle(),null==(t=e.actionCompleteCallback)||t.call(e)})),handleAddAccountClicked:()=>((0,i.T7)(e.signInUrl||window.location.href),(0,s._)(2e3)),otherSessions:B,signedInSessions:p}}}}]);